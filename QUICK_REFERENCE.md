# Idensyra 快速參考指南

## 🎯 新功能一覽

### 1. 虛擬工作區系統
- **多檔案支援**：在工作區中建立和管理多個 Go 檔案
- **自動暫存**：檔案儲存在系統臨時資料夾，程式關閉時自動清理
- **關閉警告**：未匯出的變更會在關閉前提示警告
- **一鍵匯出**：將整個工作區匯出到 `Documents/idensyra-exports/`

### 2. 系統主題跟隨
程式啟動時會自動偵測並跟隨系統的深色/淺色主題設定。

### 3. Minimap 開關
點擊工具列的 **地圖圖示 (📍)** 開啟/關閉編輯器右側的 Minimap。

### 4. 自動換行開關
點擊工具列的 **文字寬度圖示 (↔️)** 切換長行文字的顯示方式：
- **關閉**：顯示水平捲軸
- **開啟**：自動換行顯示

### 5. 復原/重做
- **復原**：`Ctrl + Z` (Win/Linux) 或 `Cmd + Z` (Mac)
- **重做**：`Ctrl + Shift + Z` 或 `Ctrl + Y` (Win/Linux)，`Cmd + Shift + Z` 或 `Cmd + Y` (Mac)

### 6. Live Run 狀態通知
啟用或停用 Live Run 時會顯示通知訊息，清楚顯示目前狀態。

---

## ⌨️ 鍵盤快捷鍵

| 功能 | Windows/Linux | macOS |
|------|--------------|-------|
| 執行程式碼 | `Ctrl + Enter` | `Cmd + Enter` |
| 儲存檔案 | `Ctrl + S` | `Cmd + S` |
| 復原 | `Ctrl + Z` | `Cmd + Z` |
| 重做 | `Ctrl + Shift + Z` 或 `Ctrl + Y` | `Cmd + Shift + Z` 或 `Cmd + Y` |
| 自動完成 | `Ctrl + Space` | `Ctrl + Space` |

---

## 🎨 工具列按鈕說明

**標題列右側（由左至右）：**

1. **Live Run 核取方塊** - 啟用/停用自動執行
2. **地圖圖示 (📍)** - 切換 Minimap
3. **文字寬度圖示 (↔️)** - 切換自動換行
4. **調色圖示 (🎨)** - 切換深色/淺色主題
5. **GitHub 圖示** - 開啟 GitHub 專案頁面
6. **連結圖示 (🔗)** - 開啟 HazelnutParadise 網站

**工作區側邊欄：**
- **➕ 按鈕** - 建立新 Go 檔案
- **📥 按鈕** - 匯入外部檔案到工作區
- **📁 按鈕** - 開啟現有工作區資料夾
- **⬇️ 按鈕** - 匯出整個工作區到選擇的位置
- **檔案列表** - 點擊檔案名稱切換編輯
- **✕ 按鈕** - 刪除檔案（滑鼠懸停時顯示）
- **● 指示器** - 黃色圓點表示檔案已修改

**編輯器區域：**
- **Font +/-** - 調整編輯器字體大小（8-32px）
- **Load** - 從檔案載入程式碼**替換**當前檔案（會確認）
- **Save** - 手動儲存當前檔案（也會自動儲存）

**輸出區域：**
- **Font +/-** - 調整輸出字體大小（8-32px）
- **Run** - 執行程式碼（或按 `Ctrl + Enter`）
- **Copy** - 複製輸出內容到剪貼簿
- **Save** - 儲存輸出內容到檔案

---

## 💡 使用提示

### 工作區檔案管理
- **建立檔案**：點擊側邊欄 ➕ 按鈕，輸入檔案名稱（會自動加上 .go）
- **匯入檔案**：點擊 📥 按鈕將外部檔案匯入到工作區（不影響現有檔案）
- **開啟工作區**：點擊 📁 按鈕從資料夾載入所有 .go 檔案（會警告未儲存變更）
- **切換檔案**：點擊側邊欄中的檔案名稱
- **刪除檔案**：滑鼠懸停在檔案上，點擊出現的 ✕ 按鈕
- **自動儲存**：編輯後 2 秒自動儲存到暫存工作區
- **匯出工作區**：點擊 ⬇️ 按鈕選擇目標資料夾，匯出所有檔案到 `idensyra-export-[時間戳記]/`
- **載入檔案**：編輯器的 Load 按鈕會**替換**當前檔案內容（會確認）
- **修改指示**：檔案名稱後的黃色 ● 表示有未儲存變更

### 啟用的功能會高亮顯示
當 Minimap 或自動換行啟用時，對應的按鈕會變成藍色，方便識別目前狀態。活動檔案在側邊欄中以藍色背景高亮。

### 所有設定都會自動儲存
以下設定會在關閉程式後保留：
- 主題選擇（深色/淺色）
- Minimap 開啟/關閉
- 自動換行開啟/關閉
- 編輯器字體大小
- 輸出區字體大小
- 面板分割比例

**注意**：工作區檔案本身儲存在系統暫存資料夾，程式關閉後會自動清理。重要工作請記得匯出！

### 自動完成功能
在編輯器中輸入套件名稱後按 `Ctrl + Space` 可以看到：
- Go 語言關鍵字
- 標準庫函式（fmt, strings, time 等）
- Insyra 庫函式
- 常用型別

### 面板調整
拖曳編輯器與輸出區之間的分隔線可以調整兩邊的大小。

---

## 🎨 主題說明

### 自動跟隨系統
- 首次啟動時自動偵測系統主題
- Windows 10/11：跟隨「設定 > 個人化 > 色彩」
- macOS：跟隨「系統偏好設定 > 一般 > 外觀」

### 手動切換
- 點擊工具列的調色圖示切換主題
- 手動設定會覆蓋系統設定
- 下次啟動時會記住手動選擇

---

## 🚀 快速開始範例

### 1. 基本 Hello World
```go
package main

import "fmt"

func main() {
    fmt.Println("Hello, Idensyra!")
}
```

### 2. 使用 Insyra 彩色輸出
```go
package main

import "insyra"

func main() {
    insyra.Println(insyra.Green("成功訊息"))
    insyra.Println(insyra.Yellow("警告訊息"))
    insyra.Println(insyra.Red("錯誤訊息"))
}
```

### 3. 使用工作區建立多檔案專案
```go
// main.go
package main

import "fmt"

func main() {
    fmt.Println(Greet("Idensyra"))
}

// utils.go (建立新檔案)
package main

func Greet(name string) string {
    return "Hello, " + name + "!"
}
```

### 4. 啟用 Live Run 體驗
1. 勾選工具列的「Live Run」
2. 在編輯器中修改程式碼
3. 稍等片刻，程式會自動執行並顯示結果

---

## ❓ 常見問題

**Q: 工作區的檔案會永久保存嗎？**  
A: 不會。工作區檔案儲存在系統臨時資料夾，程式關閉時會自動清理。要永久保存請點擊 ⬇️ 按鈕匯出工作區。

**Q: 匯出的工作區會在哪裡？**  
A: 完全由您選擇！點擊匯出按鈕後，系統會開啟資料夾選擇對話框，您可以選擇任何位置。

**Q: Load 和 Import 有什麼不同？**  
A: **Load** 會替換當前檔案的內容（會先確認），**Import（📥）** 會將檔案加入工作區成為新檔案。

**Q: 如何開啟之前匯出的工作區？**  
A: 點擊 📁 按鈕，選擇包含 .go 檔案的資料夾，系統會載入所有 Go 檔案。

**Q: 可以建立多少個檔案？**  
A: 理論上沒有限制，但建議保持合理數量以獲得最佳效能。

**Q: 如何恢復預設設定？**  
A: 清除瀏覽器的 localStorage 或刪除設定檔（未來版本會提供重設按鈕）。

**Q: Minimap 和自動換行哪個比較好？**  
A: 依個人喜好：
- Minimap：適合長檔案，方便快速導航
- 自動換行：適合編寫長行程式碼，避免水平捲動

**Q: 復原/重做有步數限制嗎？**  
A: 使用 Monaco Editor 的內建功能，通常可以復原數百步。

**Q: 匯出的工作區可以直接執行嗎？**  
A: 是的！匯出的檔案是標準的 Go 原始碼，可以使用 `go run *.go` 執行。

**Q: 開啟工作區會發生什麼？**  
A: 會清除目前工作區，載入選擇的資料夾中所有 .go 檔案。如果有未儲存變更會先警告確認。

---

## 📦 無 CDN 依賴

所有資源（Monaco Editor、Bootstrap、Font Awesome）都已本地化打包，無需網路連線即可使用。

---

**版本：** Idensyra with Wails v2.11.0  
**更新日期：** 2025-12-31
